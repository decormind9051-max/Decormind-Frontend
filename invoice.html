<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Decormind Invoice</title>
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      min-height: 100vh;
      display: flex;
    }

    /* Sidebar (same as dashboard) */
    #sidebar {
      width: 260px;
      background: linear-gradient(135deg, #1f2937, #111827);
      color: #f9fafb;
      padding: 1.5rem 1.25rem;
      box-shadow: 4px 0 18px rgba(15, 23, 42, 0.35);
      display: flex;
      flex-direction: column;
      gap: 2rem;
      position: sticky;
      top: 0;
      align-self: flex-start;
      min-height: 100vh;
      box-sizing: border-box;
    }

    #sidebar .brand {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      font-family: 'Playfair Display', serif;
      font-size: 1.3rem;
      letter-spacing: 0.03em;
      text-decoration: none;
      color: inherit;
    }

    #sidebar .brand .bx {
      font-size: 1.75rem;
      color: #facc6b;
    }

    #sidebar .side-menu {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    #sidebar .side-menu li a {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.6rem 0.75rem;
      border-radius: 999px;
      color: #e5e7eb;
      text-decoration: none;
      font-size: 0.9rem;
      transition: background 0.18s ease, transform 0.18s ease, color 0.18s ease;
    }

    #sidebar .side-menu li a .icon {
      font-size: 1.2rem;
    }

    #sidebar .side-menu li.active a,
    #sidebar .side-menu li a:hover {
      background: linear-gradient(135deg, #fbbf24, #f97316);
      color: #111827;
      transform: translateX(3px);
    }

    #sidebar .side-menu li.active a .icon {
      color: #111827;
    }

    /* Content wrapper */
    #content {
      flex: 1;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    #content nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.85rem 1.75rem;
      background:
        linear-gradient(90deg, rgba(246,231,218,0.98), rgba(249,242,234,0.98));
      border-bottom: 1px solid rgba(214,211,209,0.9);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .nav-title {
      font-size: 0.95rem;
      font-weight: 500;
      color: var(--muted);
    }

    .nav-pill {
      padding: 0.25rem 0.75rem;
      border-radius: 999px;
      background: rgba(248, 191, 88, 0.18);
      font-size: 0.78rem;
      color: #92400e;
      font-weight: 500;
    }

    .dashboard-main {
      padding: 1.75rem 1.75rem 2rem;
      box-sizing: border-box;
    }

    .dashboard-card {
      background: var(--card);
      border-radius: 16px;
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.16);
      padding: 1.25rem 1.25rem 1rem;
      border: 1px solid var(--border);
    }

    .dashboard-card h2 {
      margin: 0 0 0.25rem;
      font-size: 1.2rem;
      font-weight: 600;
      letter-spacing: 0.02em;
    }

    .dashboard-subtitle {
      margin: 0 0 0.9rem;
      font-size: 0.85rem;
      color: var(--muted);
    }

    /* Invoice form container (reuse quote styles) */
    .quote-container {
      max-width: 900px;
      margin: 0 auto;
      background:#fff;
      border:1px solid #e5e5e5;
      padding:24px;
      box-shadow:0 10px 30px rgba(0,0,0,.06);
      border-radius: 12px;
    }

    .quote-grid { display:grid; grid-template-columns:2fr 1.4fr; gap:16px; }
    .quote-table { width:100%; border-collapse:collapse; }
    .quote-table th, .quote-table td { border:1px solid #e5e5e5; padding:6px 8px; font-size:13px; }
    .quote-table th { background:#f4d48a; }
    .band { background:#f4d48a; padding:6px 10px; font-weight:600; font-size:13px; margin-top:16px; }
    .cust-band { background:#d9d9d9; padding:6px 10px; font-weight:600; font-size:13px; margin-top:16px; }
    .field-row { display:grid; grid-template-columns:1fr 1fr; gap:10px; margin:6px 0; }
    .field-row label { font-size:13px; display:block; margin-bottom:4px; }
    .field-row input, .field-row textarea { width:100%; padding:6px 8px; font-size:13px; }
    .items-table-wrapper { margin-top:8px; overflow-x:auto; }
    .actions { display:flex; gap:10px; margin-top:16px; flex-wrap:wrap; }
    .actions button { padding:8px 14px; border:0; background:#2563eb; color:#fff; border-radius:4px; cursor:pointer; font-size:14px; }
    .actions button.secondary { background:#111827; }
    .status { margin-top:10px; font-size:13px; color:#065f46; }
    .status.error { color:#b91c1c; }

    .sidebar-toggle {
      display: none;
      border: none;
      background: transparent;
      font-size: 1.4rem;
      cursor: pointer;
      margin-right: 0.25rem;
    }

    .sidebar-close {
      display: none;
      position: absolute;
      top: 0.75rem;
      right: 0.75rem;
      border: none;
      background: rgba(15,23,42,0.85);
      color: #f9fafb;
      width: 28px;
      height: 28px;
      border-radius: 999px;
      font-size: 1.1rem;
      line-height: 1;
      cursor: pointer;
      z-index: 25;
    }

    @media (max-width: 768px) {
      body {
        flex-direction: row;
        overflow-x: hidden;
      }

      #sidebar {
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        width: 240px;
        transform: translateX(-100%);
        transition: transform 0.2s ease-out;
        z-index: 20;
      }

      body.sidebar-open #sidebar {
        transform: translateX(0);
      }

      #content {
        flex: 1;
      }

      #content nav {
        padding: 0.6rem 0.75rem;
      }

      .sidebar-toggle {
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }

      .sidebar-close {
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }

      .dashboard-main {
        padding: 1rem;
      }

      .quote-container {
        margin: 0;
        padding: 16px;
        border-radius: 10px;
      }

      .quote-grid {
        grid-template-columns: 1fr;
      }

      .field-row {
        grid-template-columns: 1fr;
      }

      .actions {
        flex-direction: column;
        align-items: stretch;
      }
    }
  </style>
  <script>
    const API_BASE = 'https://vzw780l2gg.execute-api.ap-south-1.amazonaws.com';
    const API = API_BASE.replace(/\/$/, '');

    function addItemRow(prefill = {}) {
      const tbody = document.getElementById('items-body');
      const tr = document.createElement('tr');
      const unit = prefill.unit || '1 unit';
      tr.innerHTML = `
        <td><input type="text" name="description" placeholder="Item description" value="${prefill.description || ''}" required></td>
        <td><input type="text" name="hsnCode" placeholder="HSN Code" value="${prefill.hsnCode || ''}"></td>
        <td><input type="number" name="quantity" min="1" step="1" value="${prefill.quantity || 1}" oninput="recalcRow(this)" required></td>
        <td>
          <select name="unit">
            <option value="1 unit" ${unit === '1 unit' ? 'selected' : ''}>1 unit</option>
            <option value="1 sqmm" ${unit === '1 sqmm' ? 'selected' : ''}>1 sqmm</option>
            <option value="1 sqcm" ${unit === '1 sqcm' ? 'selected' : ''}>1 sqcm</option>
            <option value="1 sqm" ${unit === '1 sqm' ? 'selected' : ''}>1 sqm</option>
            <option value="1 sqft" ${unit === '1 sqft' ? 'selected' : ''}>1 sqft</option>
            <option value="1 running ft" ${unit === '1 running ft' ? 'selected' : ''}>1 running ft</option>
            <option value="1 running m" ${unit === '1 running m' ? 'selected' : ''}>1 running m</option>
            <option value="1 piece" ${unit === '1 piece' ? 'selected' : ''}>1 piece</option>
          </select>
        </td>
        <td><input type="number" name="unitPrice" min="0" step="0.01" value="${prefill.unitPrice || 0}" oninput="recalcRow(this)" required></td>
        <td><input type="text" name="amount" readonly></td>
      `;
      tbody.appendChild(tr);
      recalcRow(tr.querySelector('input[name="quantity"]'));
    }

    function recalcRow(el){
      const tr = el.closest('tr');
      const qty = parseFloat(tr.querySelector('input[name="quantity"]').value || '0');
      const price = parseFloat(tr.querySelector('input[name="unitPrice"]').value || '0');
      tr.querySelector('input[name="amount"]').value = (qty*price).toFixed(2);
      recalcTotals();
    }

    function recalcTotals(){
      const rows = Array.from(document.querySelectorAll('#items-body tr'));
      let subtotal = 0;
      rows.forEach(tr => {
        const qty = parseFloat(tr.querySelector('input[name="quantity"]').value || '0');
        const price = parseFloat(tr.querySelector('input[name="unitPrice"]').value || '0');
        subtotal += qty*price;
      });
      const sgstP = parseFloat(document.getElementById('sgstPercent').value || '0');
      const cgstP = parseFloat(document.getElementById('cgstPercent').value || '0');
      const discountP = parseFloat(document.getElementById('discountPercent').value || '0');

      const sgstA = subtotal * sgstP / 100;
      const cgstA = subtotal * cgstP / 100;
      const grossTotal = subtotal + sgstA + cgstA;

      const discountAmount = grossTotal * discountP / 100;
      const netTotal = grossTotal - discountAmount;

      document.getElementById('subtotal').textContent = subtotal.toFixed(2);
      document.getElementById('sgstAmount').textContent = sgstA.toFixed(2);
      document.getElementById('cgstAmount').textContent = cgstA.toFixed(2);
      document.getElementById('discountAmount').textContent = discountAmount.toFixed(2);
      document.getElementById('grandTotal').textContent = netTotal.toFixed(2);
    }

    async function loadNextInvoiceNumber(){
      if (!API_BASE || API_BASE.includes('YOUR_DECORMIND_API_BASE_URL')) return;
      try{
        const date = document.getElementById('date').value;
        const res = await fetch(`${API}/invoice/next?date=${encodeURIComponent(date)}`);
        if(!res.ok) return;
        const data = await res.json();
        if(data.invoiceNumber){
          const raw = data.invoiceNumber;
          const display = raw.endsWith('DECORMIND') ? raw.replace(/DECORMIND$/, 'DM') : raw;
          document.getElementById('invoiceNumber').value = display;
        }
      }catch(e){}
    }

    async function createInvoice(e){
      e.preventDefault();
      const status = document.getElementById('status');
      status.textContent='';
      status.classList.remove('error');
      if (!API_BASE || API_BASE.includes('YOUR_DECORMIND_API_BASE_URL')){
        status.textContent='Please set API_BASE in invoice.html';
        status.classList.add('error');
        return;
      }

      const items = Array.from(document.querySelectorAll('#items-body tr')).map(tr=>{
        return {
          description: tr.querySelector('input[name="description"]').value.trim(),
          hsnCode: tr.querySelector('input[name="hsnCode"]').value.trim(),
          quantity: parseFloat(tr.querySelector('input[name="quantity"]').value || '0'),
          unit: tr.querySelector('select[name="unit"]').value,
          unitPrice: parseFloat(tr.querySelector('input[name="unitPrice"]').value || '0')
        };
      }).filter(it=>it.description);

      if(items.length === 0){
        status.textContent='Add at least one item.';
        status.classList.add('error');
        return;
      }

      const body = {
        date: document.getElementById('date').value,
        customerName: document.getElementById('customerName').value.trim(),
        customerAddress: document.getElementById('customerAddress').value.trim(),
        customerPhone: document.getElementById('customerPhone').value.trim(),
        customerEmail: document.getElementById('customerEmail').value.trim(),
        descriptionOfWork: document.getElementById('descriptionOfWork').value.trim(),
        items,
        sgstPercent: parseFloat(document.getElementById('sgstPercent').value || '0'),
        cgstPercent: parseFloat(document.getElementById('cgstPercent').value || '0'),
        discountPercent: parseFloat(document.getElementById('discountPercent').value || '0'),
        terms: document.getElementById('terms').value.trim(),
        author: document.getElementById('author').value.trim(),
        isPaid: document.getElementById('isPaid')?.checked || false
      };

      try{
        // Create real Invoice document in Decormind-Backend
        const res = await fetch(`${API}/invoice`,{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify(body)
        });
        if(!res.ok){
          const t = await res.text();
          throw new Error(t);
        }
        const data = await res.json(); // { id, invoiceNumber, totalPayable }
        const rawInv = data.invoiceNumber || '';
        const displayInv = rawInv.endsWith('DECORMIND') ? rawInv.replace(/DECORMIND$/, 'DM') : rawInv;
        document.getElementById('invoiceNumber').value = displayInv;
        const dl = document.getElementById('downloadBtn');
        dl.dataset.invoiceId = data.id; // store invoice id for PDF download
        dl.disabled = false;
        status.textContent = `Invoice created. Number: ${displayInv}`;
      }catch(err){
        status.textContent = `Failed: ${err.message || err}`;
        status.classList.add('error');
      }
    }

    async function uploadPdfToWhatsApp(pdfBlob, filename, customerPhone, descriptionOfWork) {
      try {
        const formData = new FormData();
        formData.append('file', pdfBlob, filename);
        formData.append('PhonenumberID', '932963986559387');
        formData.append('PermanentAccessToken', 'EAAbVNscUusIBQBBwMLKPd8ZB1jBJQoGbVJ9DBSEquwtCKcQD2ZCZCmKbZCvYCgIONgU9ExyR6YcoPMIfun3HGrvm5vG5dAvRT3if66hN4FBFtP5txAUfZBUwoMd8quiVZCMPsuZCJKnTpKgJRW2ecN342OI38HzZAcCCsYMjGKlDDZAbu8XkF5wZAeD6zBFw3i7ZBSEJAZDZD');

        const uploadRes = await fetch('https://botclap.com/getMediaID', { method: 'POST', body: formData });
        const result = await uploadRes.json();
        const mediaId = result['MediaID'];
        if (!mediaId) throw new Error('Failed to obtain MediaID');
        
        const invoiceDate = new Date().toLocaleDateString("en-GB");
        const var1 = encodeURIComponent(descriptionOfWork || 'Invoice');
        const var2 = encodeURIComponent(invoiceDate);
        alert(`var2 ${var2}`)
        const finalUrl = `https://botclap.com/apinotification/857279106681222/919051365052/decrautil/UTILITY/${customerPhone}/Decormind-Invoice/EAAbVNscUusIBQBBwMLKPd8ZB1jBJQoGbVJ9DBSEquwtCKcQD2ZCZCmKbZCvYCgIONgU9ExyR6YcoPMIfun3HGrvm5vG5dAvRT3if66hN4FBFtP5txAUfZBUwoMd8quiVZCMPsuZCJKnTpKgJRW2ecN342OI38HzZAcCCsYMjGKlDDZAbu8XkF5wZAeD6zBFw3i7ZBSEJAZDZD/932963986559387?mediaURL=${mediaId}&body1=${var1}&body2=${var2}`;

        console.log("ðŸ“¨ Final API URL:", finalUrl);
        const response = await fetch(finalUrl);
        return true;
      } catch (e) {
        console.error('WhatsApp send failed:', e);
        return false;
      }
    }

    async function downloadInvoicePdf(){
      const status = document.getElementById('status');
      const btn = document.getElementById('downloadBtn');
      const id = btn.dataset.invoiceId; // use invoice id, not quotation id
      if(!id){
        status.textContent='Create an invoice first.';
        status.classList.add('error');
        return;
      }
      try{
        const res = await fetch(`${API}/invoice/${id}/pdf`);
        if(!res.ok){
          const t = await res.text();
          throw new Error(t);
        }
        const blob = await res.blob();
        const filename = `invoice-${document.getElementById('invoiceNumber').value || id}.pdf`;
        
        // Send to WhatsApp if customer phone is provided
        const customerPhone = document.getElementById('customerPhone').value.trim();
        const descriptionOfWork = document.getElementById('descriptionOfWork')?.value.trim() || 'Invoice';
        
        if (customerPhone) { alert(`customerPhone ${customerPhone}`)
          status.textContent = 'Sending invoice to WhatsApp...';
          await uploadPdfToWhatsApp(blob, filename, customerPhone, descriptionOfWork);
          status.textContent = 'Invoice sent to WhatsApp (if number is valid).';
        }
        
        // Download the PDF
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        a.remove();
        URL.revokeObjectURL(url);
      }catch(err){
        status.textContent = `Download failed: ${err.message || err}`;
        status.classList.add('error');
      }
    }

    function setupSidebarToggle(){
      const btn = document.getElementById('sidebarToggle');
      const closeBtn = document.getElementById('sidebarClose');
      if (btn) {
        btn.addEventListener('click', () => {
          document.body.classList.toggle('sidebar-open');
        });
      }
      if (closeBtn) {
        closeBtn.addEventListener('click', () => {
          document.body.classList.remove('sidebar-open');
        });
      }
    }

    window.addEventListener('DOMContentLoaded',()=>{
      const today = new Date();
      const yyyy = today.getFullYear();
      const mm = String(today.getMonth()+1).padStart(2,'0');
      const dd = String(today.getDate()).padStart(2,'0');
      document.getElementById('date').value = `${yyyy}-${mm}-${dd}`;
      addItemRow({});
      document.getElementById('sgstPercent').value = '0';
      document.getElementById('cgstPercent').value = '0';
      document.getElementById('discountPercent').value = '0';
      recalcTotals();
      loadNextInvoiceNumber();
      document.getElementById('sgstPercent').addEventListener('input',recalcTotals);
      document.getElementById('cgstPercent').addEventListener('input',recalcTotals);
      document.getElementById('discountPercent').addEventListener('input',recalcTotals);
      document.getElementById('date').addEventListener('change',loadNextInvoiceNumber);
      setupSidebarToggle();
    });
  </script>
</head>
<body>
  <!-- SIDEBAR (same structure as dashboard.html) -->
  <section id="sidebar">
    <button id="sidebarClose" class="sidebar-close" type="button">Ã—</button>
    <a href="index.html" class="brand">
      <i class='bx bx-home-heart'></i>
      <span class="text">Decormind</span>
    </a>
    <ul class="side-menu top">
      <!-- Make Quotation tab -->
      <li>
        <a href="dashboard.html">
          <i class='bx bx-file icon'></i>
          <span class="text">Make Quotation</span>
        </a>
      </li>
      <!-- Invoice tab (active on this page) -->
      <li class="active">
        <a href="invoice.html">
          <i class='bx bx-receipt icon'></i>
          <span class="text">Invoice</span>
        </a>
      </li>
      <!-- Deed of Agreement tab -->
      <li>
        <a href="deed.html">
          <i class="bx bx-file-find icon"></i>
          <span class="text">Deed of Agreement</span>
        </a>
      </li>
      <!-- Client history tab -->
      <li>
        <a href="client-history.html">
          <i class='bx bx-user icon'></i>
          <span class="text">Client History</span>
        </a>
      </li>
    </ul>
  </section>

  <!-- CONTENT AREA: HEADER + MAIN (same as dashboard.html) -->
  <section id="content">
    <nav>
      <div style="display:flex; align-items:center; gap:0.5rem;">
        <button id="sidebarToggle" class="sidebar-toggle" type="button">â˜°</button>
        <div class="nav-title">Quotation workspace</div>
      </div>
      <div class="nav-pill">Decormind Â· Dashboard</div>
    </nav>

    <div class="dashboard-main">
      <div class="dashboard-card">
        <h2>Make Invoice</h2>
        <p class="dashboard-subtitle">Create and download client-ready invoices using the Decormind template.</p>

        <div class="quote-container">
          <h1 style="margin-top:0; font-size:22px;">Invoice</h1>
          <p style="font-size:13px; color:#555;">Fill the form to generate a Decormind invoice with discount and download it as PDF.</p>

          <form onsubmit="createInvoice(event)">
            <div class="quote-grid">
              <div>
                <div>
                  <strong>Decormind</strong><br>
                  <small>Phone: 9051365052<br>Email: support@decormind.in<br>Website: decormind.in</small>
                </div>
              </div>
              <div>
                <table class="quote-table">
                  <tr>
                    <td>INVOICE #</td>
                    <td><input id="invoiceNumber" type="text" placeholder="Auto" readonly></td>
                  </tr>
                  <tr>
                    <td>DATE</td>
                    <td><input id="date" type="date"></td>
                  </tr>
                </table>
              </div>
            </div>

            <div class="cust-band">CUSTOMER INFO</div>
            <div class="field-row">
              <div>
                <label for="customerName">Name</label>
                <input id="customerName" type="text" required>
              </div>
              <div>
                <label for="customerPhone">Phone No.</label>
                <input id="customerPhone" type="text">
              </div>
            </div>
            <div class="field-row">
              <div>
                <label for="customerAddress">Address</label>
                <textarea id="customerAddress" rows="2"></textarea>
              </div>
              <div>
                <label for="customerEmail">Email Id</label>
                <input id="customerEmail" type="email">
              </div>
            </div>

            <div class="band">DESCRIPTION OF WORK</div>
            <textarea id="descriptionOfWork" rows="3" style="width:100%; margin-top:6px;"></textarea>

            <div class="band" style="margin-top:16px;">ITEMS</div>
            <div class="items-table-wrapper">
              <table class="quote-table">
                <thead>
                  <tr>
                    <th>ITEMS</th>
                    <th>HSN CODE</th>
                    <th>QTY</th>
                    <th>UNIT</th>
                    <th>UNIT PRICE</th>
                    <th>AMOUNT</th>
                  </tr>
                </thead>
                <tbody id="items-body"></tbody>
              </table>
            </div>
            <button type="button" style="margin-top:8px;" onclick="addItemRow()">Add Item</button>

            <div class="field-row" style="margin-top:16px; align-items:flex-start;">
              <div>
                <label>Taxes &amp; Discount</label>
                <div class="field-row">
                  <div>
                    <label for="sgstPercent">SGST %</label>
                    <input id="sgstPercent" type="number" step="0.01" min="0">
                  </div>
                  <div>
                    <label for="cgstPercent">CGST %</label>
                    <input id="cgstPercent" type="number" step="0.01" min="0">
                  </div>
                </div>
                <div class="field-row" style="margin-top:6px;">
                  <div>
                    <label for="discountPercent">Discount %</label>
                    <input id="discountPercent" type="number" step="0.01" min="0">
                  </div>
                </div>
              </div>
              <div>
                <label>Totals</label>
                <table class="quote-table">
                  <tr><td>SUBTOTAL</td><td style="text-align:right;">â‚¹ <span id="subtotal">0.00</span></td></tr>
                  <tr><td>SGST</td><td style="text-align:right;">â‚¹ <span id="sgstAmount">0.00</span></td></tr>
                  <tr><td>CGST</td><td style="text-align:right;">â‚¹ <span id="cgstAmount">0.00</span></td></tr>
                  <tr><td>DISCOUNT</td><td style="text-align:right;">â‚¹ <span id="discountAmount">0.00</span></td></tr>
                  <tr><td><strong>PAYABLE TOTAL</strong></td><td style="text-align:right;"><strong>â‚¹ <span id="grandTotal">0.00</span></strong></td></tr>
                </table>
              </div>
            </div>

            <div class="band" style="margin-top:16px;">Terms &amp; Conditions</div>
            <textarea id="terms" rows="3" style="width:100%; margin-top:6px;"></textarea>

            <div class="field-row" style="margin-top:16px;">
              <div>
                <label for="author">Authors Signature (name)</label>
                <input id="author" type="text">
              </div>
              <div style="display:flex; align-items:center; gap:6px; margin-top:18px;">
                <label for="isPaid" style="display:flex; align-items:center; gap:6px; font-size:13px;">
                  <input id="isPaid" type="checkbox">
                  <span>Mark invoice as Paid</span>
                </label>
              </div>
            </div>

            <div class="actions">
              <button type="submit">Create Invoice</button>
              <button type="button" class="secondary" id="downloadBtn" onclick="downloadInvoicePdf()" disabled>Download PDF</button>
            </div>
            <div id="status" class="status"></div>
          </form>
        </div>

      </div>
    </div>
  </section>
</body>
</html>

